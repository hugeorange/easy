# 了解web及网络基础

## 使用http协议访问web
 - web使用一种名为HTTP（HyperText Transfer Protocol，超文本传输协议）的协议作为规范，完成从客户端到服务端等一系列运作流程。而协议是指规则的约定。可以说，web 是建立在HTTP协议上通信的。
 - HTTP 通常被翻译为 `超文本传输协议`，但这种叫法并不严谨，应该称之为：`超文本转移协议`。

## 网络基础TCP/IP
 - 通常使用的网络（包括互联网）是在TCP/IP协议族的基础上运作的。而HTTP属于它内部的一个子集

### TCP/IP协议族
 - 计算机与网络设备要互相通信，双方就必须基于相同的方法。比如，如何探测到通信目标、由哪一边先发起通信、使用哪种语言进行通信、怎样结束通信等规则都要事先确定。不同的硬件、操作系统之间的通信，所有的这一切都需要一种规则。而我们就把这种规则称为协议（protocol）
 - 协议中存在各式各样的内容。从电缆的规格到IP地址的选定方法、寻找异地用户的方法、双方建立通信的顺序，以及web页面需要处理的步骤，等等

### TCP/IP的分层管理
 - TCP/IP协议族里重要的一点就是分层。TCP/IP协议族按层次分别分为以下4层：`应用层、传输层、网络层、数据链路层`
 - 应用层：
    * 应用程序决定了向用户提供应用服务时通信的活动。TCP/IP协议族预存了各类通用的应用服务。比如： `FTP(File Transfer Protocol,文件传输协议) 和 DNS (Domain Name System，域名系统) 服务就是其中两类`。 `HTTP协议就是其中两类`
 - 传输层：
    * 传输层对上应用层，提供处于网络连接中的两台计算机之间的数据传输。在传输层有两个性质不同的协议：TCP (传输控制协议) 和 UDP （用户数据报协议）
 - 网络层（又名网络互连层）
    * 网络层用来处理网络上流动的数据包。数据包是网络传输的最小数据单位。该层规定了通过怎样的路径（所谓的传输线路）到达对方计算机，并把数据包传送给对方。
    * 与对方计算机之间通过多台计算机或网络设备进行传输时，网络层所起的作用就是在众多的选项内选择一条传输线路。

 - 链路层（又名数据链路层，网络接口层）
    * 用来处理连接网络的硬件部分。包括控制操作系统、硬件的设备驱动、NIC（Network Interface Card，网络适配器，即网卡），及光纤等物理可见部分（还包括连接器等一切传输媒介）。硬件上的范畴均在链路层的作用范围之内。
### TCP/IP通信传输流
 - 发送： 应用层 --> 传输层 --> 网络层 --> 链路层
 - 接收： 链路层 --> 网络层 --> 传输层 --> 应用层

 - 发送端在层与层之间传输数据时，每经过一层时必定会被打上一个该层所属的首部信息。反之，接收端在层与层传输数据时，每经过一层时会把对应的首部消去。
 - 这种把数据包装起来的做法称为封装（encapsulate）。

 ## 1.4 与HTTP关系密切的协议：IP、TCP和DNS

 ### 1.4.1负责传输的IP协议 （网络层）
 - IP协议 !== IP地址
 - IP协议的作用是把各种数据包传送给对方。而要保证确实传送到对方那里，则需要满足各类条件。其中两个重要的条件是 `IP`地址和`MAC`地址（Media Access Control Address）
 - IP地址指明了节点被分配到的地址，MAC地址是指网卡所属的固定地址。IP地址可以和MAC地址进行配对。IP地址可互换，但MAC地址基本上不会改变
 - 使用 ARP 协议凭借 MAC 地址进行通信
 - ARP是一种用以解析地址的协议，根据通信方的IP地址就可以反查出对应 MAC 地址
 - 在到达通信目标前的中转过程中，那些计算机和路由器等网络设备只能获悉很粗略的传输线路。这种机制称为路由选择。

 ### 确保可靠性的TCP协议 （传输层）
 - 按层次分，TCP位于传输层，提供可靠地字节流服务。
 - 所谓的字节流服务（Byte Stream Service）是指，为了方便传输，将大块数据分割成以报文段（segment）为单位的数据报进行管理。
 - 可靠地传输服务是指，能够把数据准确的可靠地传给对方。
 - 总之 TCP 协议为了更容易传送大数据才把数据分割，而且TCP协议能够确认数据最终是否送达到对方

 > 确保数据能到达目标 -- `三次握手策略`
 - 为了准确无误地将数据送达目标处，TCP 协议采用了 `三次握手（three-way handshaking）策略`
 - 用 TCP 协议把数据包送出去后，TCP不会对传送后的情况置之不理，他一定会向对方确认是否成功送达。
 - 握手过程中使用了 `TCP的标志（flag）` —— `SYN (synchronize)` 和 `ACK (acknowledgement)`

 - 发送端首先发送一个带 SYN 标志的数据包给对方。接收端收到后，回传一个带有 SYN/ACK 标志的数据包，已示传达确认信息。最后，发送端再回传一个带ACK标志的数据报，代表`握手`结束。
 - 若在我收过程中某个阶段莫名中断，TCP协议会再次以相同的顺序发送相同的数据包。

## 1.5 负责域名解析的 DNS 服务
- DNS （Domain Name System） 服务是和 HTTP 协议一样位于应用层的协议。提供域名到 IP地址之间的解析服务。
- 计算机既可以被赋予IP地址，也可以被赋予主机名和域名。
- 用户通常使用主机名或域名来访问对方的计算机，而不是直接通过 IP 地址访问。因为与 IP 地址的一组纯数字相比，用字母配合数字的表示形式来指定计算机名更符合人类的记忆习惯。
- 假如让计算机去理解名称，相对而言就变得困难了。
- 为了解决上述的问题，DNS 服务应运而生。DNS 协议提供通过域名查找 IP地址，或逆向从 IP地址 反查域名的服务
- 流程 客户端 --> （域名） --> DNS --> (ip地址) --> 客户端 --> (ip地址) --> 服务端 

## 1.6 各种协议与 HTTP 协议的关系
- 简单描述 IP协议、TCP协议、DNS服务在使用HTTP协议通信过程中各自发挥了哪些作用？

- 发送过程：
1. 客户端拿 `域名` 向 `DNS服务`换取请求的 `服务器` 的IP地址
2. HTTP协议的职责：生成针对目标WEB服务器的HTTP请求报文
3. TCP协议的职责：为方便通信，将HTTP请求报文分割成多个报文段 ——> 然后把每个报文可靠的传给对方

- 中间中转过程 ——> IP协议
- IP协议的职责，搜索对方的地址，一边中转一边传送

- 接收过程：
1. TCP 协议的职责：从对方那里接收到的报文段，重组到达的报文段 ——> 按序号以原来的顺序重组请求报文
2. HTTP协议的职责：对Web服务器请求的内容的处理
3. 将请求处理的结果也同样利用 TCP/IP通信协议向用户进行回传

## URI和URL
- URI 统一资源标识符（Uniform Resource Identifier）
- URL 统一资源定位符（Uniform Resource Locator），输入的网址

- URI就是由某个协议方案表示的资源的定位标识符。协议方案是指访问资源所使用的协议类型名称（采用HTTP协议，协议方案就是http，除此之外还有ftp，file等）

- URI 用字符串标识某一互联网资源，而URL标识资源度的地点（互联网上所处的位置）。可见 URL 是 URI的子集

> 有一些用来制定HTTP协议技术标准的文档，他们被称为RFC （Request for Comments，征求修正意见书）
